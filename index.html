<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Souqmarine Sandbox Test</title>
  <script src="https://sdk.minepi.com/pi-sdk.js"></script>
</head>
<body>

  <h1>Souqmarine Sandbox</h1>
  <p>Maritime market Â· Powered by Pi Network</p>

  <button onclick="start()">Test Pi Payment</button>

  <script>
    // ğŸ”¹ Ø§Ø³ØªØ®Ø¯Ù… sandbox=true Ù„Ù„ØªØ¬Ø±Ø¨Ø© Ø¹Ù„Ù‰ Pi Testnet
    Pi.init({
      version: "2.0",
      sandbox: true
    });

    async function start() {
      try {
        // ğŸ”¹ Authenticate Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù„Ù„Ø³Ù…Ø§Ø­ Ø¨Ø§Ù„Ø¯ÙØ¹
        const auth = await Pi.authenticate(["payments"]);
        console.log("Authenticated:", auth);

        // ğŸ”¹ Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø¯ÙØ¹ Ù…Ø¨Ø§Ø´Ø±Ø© Ø¹Ù„Ù‰ Sandbox
        Pi.createPayment(
          {
            amount: 0.01, // Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠ Ø¨Ø§Ù„Ù€ Pi
            memo: "Souqmarine Sandbox Test",
            appId: "3vngnuqsbiuzr10fpytdnrhdndmpllmdbr916qpcfvrad2opybreskqmbl5gfdge",
            wallet: "GCL4D7WXIRSGPFDZG4DR5URJH3YD4N2NGP5R4QNRG76HGYQI6KVYNAOV"
          },
          {
            onComplete(paymentId, txid) {
              alert("Payment successful âœ”ï¸");
              console.log("Payment complete:", paymentId, txid);
            },
            onCancel() {
              alert("Payment cancelled âŒ");
            },
            onError(err) {
              alert("Payment error âŒ");
              console.error(err);
            }
          }
        );

      } catch (err) {
        alert("Authentication failed âŒ\nØªØ£ÙƒØ¯ Ù…Ù† ØªÙÙˆÙŠØ¶ Sandbox Ø¯Ø§Ø®Ù„ Pi Utilities");
        console.error(err);
      }
    }
  </script>

</body>
</html>
